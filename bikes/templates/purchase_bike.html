<!-- purchase_bike.html -->
{% extends "base.html" %}
{% load static %}
{% block body_block %}
<div class="m-0 p-0 w-screen h-screen flex flex-col bg-[#f5f5f5]">
    <div class="flex-col flex gap-4 flex-1 overflow-auto p-6 text-gray-100 bg-[#095358]">
        <div class="w-full flex gap-4">
        <div class="flex flex-col gap-y-3 w-1/2">
            <h2 class="text-xl font-semibold">Bike Details</h2>
            <div class="bg-[#0008] py-2 px-3 rounded">
                <p class="text-gray-300">Name</p>
                <p class="text-gray-100 text-lg">{{ bike.name }}</p>
            </div>
            <div class="bg-[#0008] py-2 px-3 rounded">
            <p class="text-gray-300">Company</p>
            <p class="text-gray-100 text-lg">{{ bike.companyName }}</p>
            </div>
            <div class="bg-[#0008] py-2 px-3 rounded">
            <p class="text-gray-300">Price</p>
            <p class="text-gray-100 text-lg">${{ bike.price }}</p>
            </div>
        </div>
        <div class="flex flex-col gap-y-3 w-1/2">
            <h2 class="text-xl font-semibold">Owner Details</h2>
            <div class="bg-[#0008] py-2 px-3 rounded">
            <p class="text-gray-300">Name</p>
            <p class="text-gray-100 text-lg">{{ owner.firstname }}</p>
            </div>
            <div class="bg-[#0008] py-2 px-3 rounded">
            <p class="text-gray-300">Email</p>
            <p class="text-gray-100 text-lg">{{ owner.email }}</p>
            </div>
            <div class="bg-[#0008] py-2 px-3 rounded">
            <p class="text-gray-300">City</p>
            <p class="text-gray-100 text-lg">{{ owner.city }}</p>
            </div>
        </div>
        </div>
        <div class="w-full flex items-center justify-end">
        <button id="confirm-purchase" class="w-fit py-2.5 px-8 bg-[#0008] rounded">Confirm Purchase</button>
        </div>
    </div>
</div>
<div id="payment-modal" class="fixed inset-0 flex items-center justify-center bg-gray-800 bg-opacity-75 hidden">
        <div class="bg-white p-8 rounded-lg shadow-lg w-96">
            <h2 class="text-2xl mb-4">Make Payment</h2>
            <!-- Dummy card payment form -->
            <form id="payment-form">
                <div class="mb-4">
                    <label for="card-number" class="block text-sm font-medium text-gray-700">Card Number</label>
                    <input type="text" id="card-number" name="card-number" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
                </div>
                <div class="mb-4">
                    <label for="expiry-date" class="block text-sm font-medium text-gray-700">Expiry Date</label>
                    <input type="text" id="expiry-date" name="expiry-date" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
                </div>
                <div class="mb-4">
                    <label for="cvc" class="block text-sm font-medium text-gray-700">CVC</label>
                    <input type="text" id="cvc" name="cvc" class="mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm" required>
                </div>
                <div class="flex items-center justify-end">
                    <button type="button" class="bg-gray-500 text-white px-4 py-2 rounded mr-2" onclick="document.getElementById('payment-modal').classList.add('hidden')">Cancel</button>
                    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded">Make Payment</button>
                </div>
            </form>
        </div>
    </div>
<script>
    document.getElementById('confirm-purchase').onclick = function() {
        document.getElementById('payment-modal').classList.remove('hidden');
    };
    document.getElementById('payment-form').onsubmit = function(event) {
        event.preventDefault();
        alert('Payment successful!');
        window.location.href = "{% url 'bikes:complete_purchase' bike.id %}";
    };
</script>
{% endblock %}


<!-- gamification model -->